(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{2801:(e,s,a)=>{Promise.resolve().then(a.bind(a,421))},6046:(e,s,a)=>{"use strict";var r=a(6658);a.o(r,"redirect")&&a.d(s,{redirect:function(){return r.redirect}}),a.o(r,"useParams")&&a.d(s,{useParams:function(){return r.useParams}}),a.o(r,"useRouter")&&a.d(s,{useRouter:function(){return r.useRouter}})},421:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>x});var r=a(5155),i=a(2115);a(673),a(4542);var l=a(744),t=a(8173),c=a.n(t),d=a(604),n=a(2651),h=a(3391),u=a(9199),o=a(6046);let x=()=>{let e=(0,h.d4)(e=>e.authUser.type),s=(0,o.useRouter)();(0,i.useEffect)(()=>{"customer"!==e&&s.push("/login")},[]);let[a,t]=(0,i.useState)(null),[x,m]=(0,i.useState)([]),p=(0,h.wA)(),j=async()=>{let e=await n.A.get("https://hotel-sito-backend.onrender.com/api/customer/profile",{withCredentials:!0});t(e.data.authUser),m(e.data.receipts)},v=s=>{s.preventDefault(),p((0,u.ri)()),console.log(e)};return(0,i.useEffect)(()=>{j()},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,{}),(0,r.jsx)("div",{className:"nav"}),(0,r.jsxs)("div",{className:"profile",children:[null===a?(0,r.jsxs)("div",{className:"user",children:[(0,r.jsx)("p",{children:" no user"}),(0,r.jsx)("button",{className:"btn",onClick:v,children:"Logout"})]}):(0,r.jsxs)("div",{className:"user",children:[(0,r.jsxs)("div",{className:"userinfo",children:[(0,r.jsxs)("p",{children:["Email - ",a.email," "]}),(0,r.jsxs)("p",{children:["Id -",a._id]}),(0,r.jsxs)("p",{children:["total orders :",a.receipts.length]}),(0,r.jsx)("p",{children:"acb road, kol-768906"})]}),(0,r.jsx)("button",{className:"logout",onClick:v,children:"Logout"})]}),0===x.length?(0,r.jsx)("div",{className:"receipts",children:(0,r.jsx)("p",{children:"No orders"})}):(0,r.jsxs)("div",{className:"receipts",children:[(0,r.jsx)("h2",{children:"Order history"}),x.map(e=>(0,r.jsx)(c(),{href:"/receipt/".concat(e._id),children:(0,r.jsx)(d.default,{item:e},e._id)}))]})]})]})}},744:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});var r=a(5155),i=a(8173),l=a.n(i);a(7277);let t=()=>(0,r.jsxs)("div",{className:"navbarContainer",children:[(0,r.jsx)("div",{className:"logo",children:(0,r.jsx)("h1",{children:"  SITO"})}),(0,r.jsxs)("div",{className:"links",children:[(0,r.jsx)(l(),{href:"/",children:(0,r.jsx)("img",{src:"/home-2-fill.png",className:"icon"})}),(0,r.jsx)(l(),{href:"/profile",children:(0,r.jsx)("img",{src:"/user-3-fill.png",className:"icon"})})]})]})},604:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l});var r=a(5155);a(2115),a(4289);var i=a(9253);let l=e=>{let{item:s}=e,a=s._id?(0,i.GP)(new Date(s.createdAt),"dd MMM yyyy,hh:mm a"):(0,i.GP)(new Date(Date.now()),"dd MMM yyyy,hh:mm a");return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"receipt",children:[(0,r.jsx)("div",{className:"hotel",children:(0,r.jsx)("p",{})}),(0,r.jsxs)("div",{className:"data",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("div",{className:"variable",children:"Price : "}),(0,r.jsx)("img",{src:"/rupee-indian.png",className:"rupee"}),s.price]}),(0,r.jsx)("p",{children:(0,r.jsxs)("div",{className:"payable",children:[(0,r.jsx)("div",{className:"variable",children:"payment : "}),s.paid?"paid":"pending",s.paid?(0,r.jsx)("div",{className:"donee"}):(0,r.jsx)("div",{className:"pendingg"})]})}),(0,r.jsxs)("p",{children:[(0,r.jsx)("div",{className:"variable",children:"Service Taken :"}),s.details]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("div",{className:"variable",children:"Order Date :"}),a]})]})]})})}},4542:(e,s,a)=>{},9199:(e,s,a)=>{"use strict";a.d(s,{Ay:()=>c,ri:()=>t,s5:()=>i});let r=(0,a(8943).Z0)({name:"authUser",initialState:{email:"xxxx",type:"xxxx"},reducers:{userAuth:(e,s)=>{e.email=s.payload,e.type="customer"},logout:e=>{e.email="xxxx",e.type="xxxx"},hotelAuth:(e,s)=>{e.email=s.payload,e.type="hotel"}}}),{userAuth:i,hotelAuth:l,logout:t}=r.actions,c=r.reducer},673:()=>{},7277:()=>{},4289:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[455,2860,1768,8173,2651,9253,8943,3391,8441,1517,7358],()=>s(2801)),_N_E=e.O()}]);