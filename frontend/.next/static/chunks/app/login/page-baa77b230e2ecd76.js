(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{6157:(e,t,s)=>{Promise.resolve().then(s.bind(s,750))},6046:(e,t,s)=>{"use strict";var r=s(6658);s.o(r,"redirect")&&s.d(t,{redirect:function(){return r.redirect}}),s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},750:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(5155),a=s(2115);s(9013);var i=s(8173),n=s.n(i),l=s(2651);let o=async e=>{let{email:t,password:s}=e;try{return(await l.A.post("https://hotel-sito-backend.onrender.com/api/customer/login",{email:t,password:s},{withCredentials:!0})).data}catch(e){return{data:"failed",error:e}}};var u=s(6046),c=s(3391),d=s(9199);let h=()=>{let[e,t]=(0,a.useState)(!1),[s,i]=(0,a.useState)(""),[l,h]=(0,a.useState)(""),x=(0,u.useRouter)(),m=(0,c.wA)(),p=async e=>{e.preventDefault();try{t(!0);let e=await o({email:s,password:l});console.log(e.existingUser),m((0,d.s5)(e.existingUser.email)),x.push("/")}catch(e){console.log(e)}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"loginContainer",children:[(0,r.jsx)("div",{className:"heading",children:(0,r.jsx)("h3",{children:"An authenticate customer has access to all the services of this platform,so Login first"})}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("h3",{children:"Login"}),(0,r.jsx)("div",{className:"form",children:(0,r.jsxs)("form",{onSubmit:p,children:[(0,r.jsx)("input",{type:"email",placeholder:"Enter Your Email",onChange:e=>i(e.target.value)}),(0,r.jsx)("input",{type:"password",placeholder:"Enter Your password",onChange:e=>h(e.target.value)}),(0,r.jsx)("button",{className:e?"load":"loginbtn",type:"submit",children:e?"Loading..":"Login"})]})}),(0,r.jsxs)("p",{className:"p",children:["New Customer?Register first :",(0,r.jsx)(n(),{href:"/register",children:"Register"})]})]})]})})}},9199:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>l,ri:()=>n,s5:()=>a});let r=(0,s(8943).Z0)({name:"authUser",initialState:{email:"xxxx",type:"xxxx"},reducers:{userAuth:(e,t)=>{e.email=t.payload,e.type="customer"},logout:e=>{e.email="xxxx",e.type="xxxx"},hotelAuth:(e,t)=>{e.email=t.payload,e.type="hotel"}}}),{userAuth:a,hotelAuth:i,logout:n}=r.actions,l=r.reducer},9013:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[9107,8173,2651,8943,3391,8441,1517,7358],()=>t(6157)),_N_E=e.O()}]);