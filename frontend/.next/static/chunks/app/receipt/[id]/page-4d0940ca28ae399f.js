(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[685],{9007:(e,s,a)=>{Promise.resolve().then(a.bind(a,6106))},6046:(e,s,a)=>{"use strict";var i=a(6658);a.o(i,"redirect")&&a.d(s,{redirect:function(){return i.redirect}}),a.o(i,"useParams")&&a.d(s,{useParams:function(){return i.useParams}}),a.o(i,"useRouter")&&a.d(s,{useRouter:function(){return i.useRouter}})},6106:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var i=a(5155),r=a(744);a(4542);var l=a(6046),d=a(2115);a(6557);var c=a(2651),t=a(9253),n=a(3874),h=a(984);let v="https://hotel-sito-backend.onrender.com",m=()=>{let{id:e}=(0,l.useParams)(),[s,a]=(0,d.useState)([]),[m,o]=(0,d.useState)([]),[x,j]=(0,d.useState)(1),[p,u]=(0,d.useState)("default review"),N=async()=>{let s=await c.A.get(v+"/api/receipt/".concat(e),{withCredentials:!0});console.log(s.data.receipt),a(s.data.receipt),o(s.data.service)};(0,d.useEffect)(()=>{N()},[]);let[y,g]=(0,d.useState)(s.paid),[f,w]=(0,d.useState)(!1),b=async a=>{a.preventDefault();try{w(!0);let a=await c.A.post(v+"/api/review/review-create",{text:p,ratings:x,serviceid:s.serviceId,receiptId:e},{withCredentials:!0});console.log(a.data),(0,l.redirect)("/")}catch(e){console.log(e),w(!1),(0,l.redirect)("/")}},M=0===s.length?(0,t.GP)(new Date(Date.now()),"dd MMM yyyy,hh:mm a"):(0,t.GP)(new Date((null==s?void 0:s.createdAt)||Date.now()),"dd MMM yyyy,hh:mm a"),C=0===s.length?(0,t.GP)(new Date(Date.now()),"dd MMM yyyy,hh:mm a"):(0,t.GP)(new Date((null==m?void 0:m.hotel.createdAt)||Date.now()),"dd MMM yyyy,hh:mm a");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.default,{}),(0,i.jsx)("div",{className:"nav",children:"nav"}),0===s.length?(0,i.jsx)("div",{className:"receiptBody",children:(0,i.jsx)(h.default,{})}):(0,i.jsxs)("div",{className:"receiptBody",children:[(0,i.jsxs)("div",{className:"first",children:[(0,i.jsxs)("h2",{children:[" Receipt Generated for Service : ",(0,i.jsx)("div",{className:"id",children:s.serviceId.map(e=>(0,i.jsx)("h5",{children:e}))})," "]}),(0,i.jsxs)("p",{children:[" ",(0,i.jsx)("div",{className:"variable",children:"Receipt id :"}),s._id]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("div",{className:"variable",children:"service Type: "}),s.type]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("div",{className:"variable",children:"receipt generated at : "}),M]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("div",{className:"variable",children:"Total payable Price: "}),(0,i.jsx)("img",{src:"/rupee-indian.png",className:"rupee"}),s.price]}),(0,i.jsx)("div",{className:"variable",children:"Orders Details: "}),s.details.map(e=>(0,i.jsx)("p",{children:e}))]}),(0,i.jsxs)("div",{className:"second",children:[s.paid?"":(0,i.jsxs)("div",{className:"payment",children:[(0,i.jsx)("span",{children:"Make payment :"}),(0,i.jsx)("button",{className:"paybtn",onClick:()=>{(0,l.redirect)("/payment/".concat(e))},children:"pay"})]}),(0,i.jsxs)("div",{className:"price",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("div",{className:"variable",children:"paid : "}),y?"yes":"no"]}),s.paid?(0,i.jsx)("div",{className:"done"}):(0,i.jsx)("div",{className:"pending"})]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("div",{className:"variable",children:"Hotel Id : "}),s.hotelName]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("div",{className:"variable",children:"hotel Registered at : "}),C]}),(0,i.jsxs)("p",{children:["Customer Id : ",s.buyer]}),(0,i.jsx)("div",{className:"reviewbox",children:s.reviewed?(0,i.jsx)("div",{className:"reviewform",children:(0,i.jsx)("p",{children:"You already reviewed"})}):(0,i.jsxs)("div",{className:"reviewform",children:[(0,i.jsx)("div",{className:"star",children:[1,2,3,4,5].map(e=>(0,i.jsx)("img",{className:"starimg",src:x>=e?"/star-fill.png":"/star-line.png",onClick:()=>{j(e)}},e))}),(0,i.jsx)("textarea",{placeholder:"Give reviews",value:p,onChange:e=>u(e.target.value)}),(0,i.jsx)("button",{onClick:b,className:"btn",children:f?(0,i.jsx)(n.A,{}):"submit"})]})})]})]})]})}},984:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l});var i=a(5155),r=a(3874);a(2115),a(1617);let l=()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"loadingContainer",children:(0,i.jsx)("div",{className:"loading",children:(0,i.jsx)(r.A,{})})})})},744:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var i=a(5155),r=a(8173),l=a.n(r);a(7277);let d=()=>(0,i.jsxs)("div",{className:"navbarContainer",children:[(0,i.jsx)("div",{className:"logo",children:(0,i.jsx)("h1",{children:"  SITO"})}),(0,i.jsxs)("div",{className:"links",children:[(0,i.jsx)(l(),{href:"/",children:(0,i.jsx)("img",{src:"/home-2-fill.png",className:"icon"})}),(0,i.jsx)(l(),{href:"/profile",children:(0,i.jsx)("img",{src:"/user-3-fill.png",className:"icon"})})]})]})},4542:(e,s,a)=>{},6557:()=>{},1617:()=>{},7277:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[2860,4700,5208,8173,2651,9253,3874,8441,1517,7358],()=>s(9007)),_N_E=e.O()}]);