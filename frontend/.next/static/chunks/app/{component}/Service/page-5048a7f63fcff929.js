(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1670],{3054:(e,t,i)=>{Promise.resolve().then(i.bind(i,8371))},8371:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>m});var a=i(5155),s=i(8173),r=i.n(s),n=i(2115);i(3508);var l=i(5423),c=i(582),d=i(3391),o=i(9443);let u={initial:{y:100,opacity:0},animate:{y:0,opacity:1,transition:{duration:2.7,straggerChildren:.2}}},m=e=>{let{l:t}=e,i=(0,d.wA)(),s=(0,n.useRef)();(0,l.W)(s,{margin:"-200px"});let[m,h]=(0,n.useState)(!1),[p,y]=(0,n.useState)(1),f=(0,d.d4)(e=>e.orderCart);return(0,n.useEffect)(()=>{0===f.items.length&&(h(!1),y(1))},[f]),(0,a.jsxs)(c.P.div,{variants:u,animate:"animate",initial:"initial",className:"serviceContainer",ref:s,children:[(0,a.jsxs)("div",{className:"add",children:[m?(0,a.jsx)("button",{onClick:()=>{h(!m),i((0,o.dt)({id:t._id}))},children:"Remove"}):(0,a.jsx)("button",{onClick:()=>{h(!m),i((0,o.bE)({id:t._id,name:t.name,price:t.price}))},children:"Add"}),m?(0,a.jsxs)("div",{className:"cartHandle",children:[p>=1?(0,a.jsx)("button",{className:"quan",onClick:()=>{y(p-1),i((0,o.RO)({id:t._id,quantity:p-1}))},children:"-"}):"",(0,a.jsx)("p",{className:"number",children:p}),(0,a.jsx)("button",{className:"quan",onClick:()=>{y(p+1),i((0,o.RO)({id:t._id,quantity:p+1}))},children:"+"})]}):""]}),(0,a.jsxs)("div",{className:"desc1",children:[(0,a.jsxs)("div",{className:"",children:[" ",t.name]}),(0,a.jsxs)("div",{className:"type",children:[" ",t.itemType]}),(0,a.jsxs)("div",{className:"details",children:[(0,a.jsx)("p",{className:"para",children:"Description of the service : "}),t.details]})]}),(0,a.jsxs)("div",{className:"desc2",children:[(0,a.jsxs)("div",{className:"price",children:[(0,a.jsx)("img",{src:"/rupee-indian.png",className:"rupee"}),m?t.price*p:t.price," "]}),(0,a.jsxs)("div",{className:"buyer",children:["Number of Buyer : ",t.buyer.length]})]}),(0,a.jsx)(r(),{className:"link",href:"/service/".concat(t._id),children:(0,a.jsx)("button",{className:"btn",children:"View Details"})})]},t._id)}},9443:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>c,RO:()=>n,bE:()=>s,dt:()=>r,sX:()=>l});let a=(0,i(8943).Z0)({name:"orderCart",initialState:{items:[],totalQuantity:0,totalPrice:0},reducers:{addToCart:(e,t)=>{let{id:i,name:a,price:s}=t.payload,r=e.items.find(e=>e.id===i);r?r.quantity+=1:e.items.push({id:i,name:a,price:s,quantity:1}),e.totalQuantity+=1,e.totalPrice+=s},removeFromCart:(e,t)=>{let{id:i}=t.payload,a=e.items.find(e=>e.id===i);a&&(e.totalPrice-=a.price*a.quantity,e.totalQuantity-=a.quantity,e.items=e.items.filter(e=>e.id!==i))},updateQuantity:(e,t)=>{let{id:i,quantity:a}=t.payload,s=e.items.find(e=>e.id===i);if(s&&a>0){let t=a-s.quantity;e.totalQuantity+=t,e.totalPrice+=t*s.price,s.quantity+=t}},clearCart:e=>{e.items=[],e.totalPrice=0,e.totalQuantity=0}}}),{addToCart:s,removeFromCart:r,updateQuantity:n,clearCart:l}=a.actions,c=a.reducer},3508:()=>{},5423:(e,t,i)=>{"use strict";i.d(t,{W:()=>n});var a=i(2115),s=i(1506);let r={some:0,all:1};function n(e,{root:t,margin:i,amount:l,once:c=!1}={}){let[d,o]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!e.current||c&&d)return;let a={root:t&&t.current||void 0,margin:i,amount:l};return function(e,t,{root:i,margin:a,amount:n="some"}={}){let l=(0,s.K)(e),c=new WeakMap,d=new IntersectionObserver(e=>{e.forEach(e=>{let i=c.get(e.target);if(!!i!==e.isIntersecting){if(e.isIntersecting){let i=t(e.target,e);"function"==typeof i?c.set(e.target,i):d.unobserve(e.target)}else"function"==typeof i&&(i(e),c.delete(e.target))}})},{root:i,rootMargin:a,threshold:"number"==typeof n?n:r[n]});return l.forEach(e=>d.observe(e)),()=>d.disconnect()}(e.current,()=>(o(!0),c?void 0:()=>o(!1)),a)},[t,e,i,c,l]),d}}},e=>{var t=t=>e(e.s=t);e.O(0,[3773,8173,582,8943,3391,8441,1517,7358],()=>t(3054)),_N_E=e.O()}]);